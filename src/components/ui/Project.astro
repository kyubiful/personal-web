---
interface Props {
  imagePosition: 'left' | 'right'
  project: {
    name: string
    description: string
    link: string
    github: string
    technologies: string[]
    image: string
  }
}

import Typography from '@/components/ui/Typography.astro'
import ExternalLinkIcon from '../icons/ExternalLink.astro'
import GithubIcon from '../icons/Github.astro'
import Pill from './Pill.astro'

const { imagePosition, project } = Astro.props
---

{
  imagePosition === 'left' && (
    <div class='flex flex-col md:flex-row justify-between gap-5 md:gap-10 items-center'>
      <img
        src={project.image}
        alt={project.name}
        class='aspect-auto rounded-md w-full md:w-64 border-2 border-gray-800 dark:border-gray-100 shadow-borderBlack dark:shadow-borderWhite'
        loading='lazy'
      />
      <div class='flex flex-col gap-3'>
        <div>
          <Typography as='h3' variant='h5' color='black'>
            {project.name}
          </Typography>
          <Typography as='p' variant='p' color='black'>
            {project.description}
          </Typography>
        </div>
        <div class='flex flex-col gap-4'>
          <div class='flex gap-2'>
            {project.link.length > 0 && (
              <a
                href={project.link}
                target='_blank'
                rel='noopener noreferrer'
                class='transition-all hover:scale-125'
                aria-label="Project's link"
              >
                <ExternalLinkIcon size={16} />
              </a>
            )}
            {project.github.length > 0 && (
              <a
                href={project.github}
                target='_blank'
                rel='noopener noreferrer'
                class='transition-all hover:scale-125'
                aria-label='Github repository'
              >
                <GithubIcon size={16} />
              </a>
            )}
          </div>
          <div class='flex gap-2'>
            {project.technologies.map((technology) => (
              <Pill>{technology}</Pill>
            ))}
          </div>
        </div>
      </div>
    </div>
  )
}
{
  imagePosition === 'right' && (
    <div class='flex flex-col-reverse md:flex-row justify-between gap-5 md:gap-10 items-center'>
      <div class='flex flex-col gap-3'>
        <div>
          <Typography as='h3' variant='h5' color='black'>
            {project.name}
          </Typography>
          <Typography as='p' variant='p' color='black'>
            {project.description}
          </Typography>
        </div>
        <div class='flex flex-col gap-4'>
          <div class='flex gap-2'>
            {project.link.length > 0 && (
              <a
                href={project.link}
                target='_blank'
                rel='noopener noreferrer'
                class='transition-all hover:scale-125'
                aria-label="Project's link"
              >
                <ExternalLinkIcon size={16} />
              </a>
            )}
            {project.github.length > 0 && (
              <a
                href={project.github}
                target='_blank'
                rel='noopener noreferrer'
                class='transition-all hover:scale-125'
                aria-label='Github repository'
              >
                <GithubIcon size={16} />
              </a>
            )}
          </div>
          <div class='flex gap-2'>
            {project.technologies.map((technology) => (
              <Pill>{technology}</Pill>
            ))}
          </div>
        </div>
      </div>
      <img
        src={project.image}
        alt={project.name}
        class='aspect-auto rounded-md w-full md:w-64 border-2 border-gray-800 dark:border-gray-100 shadow-borderBlack dark:shadow-borderWhite'
        loading='lazy'
      />
    </div>
  )
}
